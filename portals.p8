pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
poke(0x5f2d, 1)
list = {}

function drawat(x,y,i,a,col)
	local r = i/3
	a += (i*1)
	r = min(r, 10)
	a %= 360
	a /= 360
	
	local x1 = x - cos(a) * r
	local y1 = y + sin(a) * r
	pset(x1,y1,col)
end

function _draw()
	cls(1)
	spr(1,mx,my)
	
	for s in all(list) do
		s.i += 1
		
		local r = s.i/3
		r = min(r, 10)
		r-=1
		circfill(s.x,s.y,r,0)
	end
	
	for s in all(list) do
		s.i += 1
		
		local many = 3
		for i = 1,many do
			drawat(s.x,s.y,s.i,360*i/many,s.c)
		end
		
		if s.i == 90 then
			--del(list, s)
		end
	end
end

function _update()
	mx=stat(32)
	my=stat(33)
	down=stat(34)==1
	press = down and not lastdown
	
	if down then
		local c = flr(rnd(16))
		add(list, {c=c,x=mx,y=my,i=0})
	end
	
	lastdown=down
end

__gfx__
00000000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
